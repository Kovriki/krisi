<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="stylesheets/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <title></title>
    <style media="screen">
    .card_wrapper{
      width: 100%;
      height: auto;
      margin-top: 60px;
      margin-bottom: 60px;
      display: flex;
      flex-direction: row;
      justify-content: space-between;
    }
    .pattern {
      width: 270px;
      height: 410px;
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
      background-image: url("images/spetial/shtraf_p.svg");
    }
    .chat_box{
      width: 34%;
      height: 320px;
      background-color: white;
      border: 3px solid black;
      font-size: 30px;
      padding-top: 20px;
      padding-left: 20px;
    }
    .rat{
      width: 235px;
      height: 460px;
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
      background-image: url("images/spetial/shtraf_m.svg");
      margin-top:60px;
    }
    .ansv_box{
      cursor: pointer;
      width: 100%;
      height: auto;
      font-family: "Montserrat";
      font-weight: 600;
      margin-top: 20px;
      margin-bottom: 5px;
    }
    .ansv_box p:hover, .ansv_box a:hover {
      color: #C75353;
      transition: .2s;
    }
    .r2{
      /* display: none; */
    }
    .r2 .ansv_box a {
      height: 30px;

    }
    .block{
      display: none;
    }


    #draw {
      border: 2px outset black;
      border-radius: 5px;
      display: inline-block;
      margin: 5px;
      padding: 10px;
    }
    #container {
      border: 2px solid black;
      width: 300px;
      height: 300px;
      position: relative;
    }
    #canvas {
      background-color: lightgrey;
    }
    #colors {
      float: right;
      position: relative;
      width: 20%;
      height: 100%;
    }
    #colors div {
      width: 100%
    }
    #buttons {
      width: 100%;
      height: auto;
    }
    #buttons * {
      width: 33%;
      background-color: lightgrey;
      margin-top: 5px;
      margin-left: 5px;
      display: inline;
    }
    #download {
      text-align: center;
      border-radius: 2px;
      padding-left: 5px;
      padding-right: 5px;
      border: 2px outset lightgrey;
      font-family: 'Arial';
      background-color: lightgrey;
      font-size: 10pt;
      cursor: context-menu;
    }
    #download:link {
      text-decoration: none;
      color: black;
    }
    #download:active {
      border: 2px inset #00acff;
      border-radius: 2px;
    }
    #current {
      height: 100%;
      width: 10%;
      border: 1px solid black;
      display: inline;
      position: relative;
      margin-left: 25px;
    }
    #black{
      color: black;
      background-color: black;
    }




    </style>
    <script type="text/javascript">
      $(document).ready(function(){
        var colors = document.querySelectorAll('#colors div');
var link = document.getElementById('download');
var canvas = document.getElementById('canvas');
var context = canvas.getContext('2d');
var drawing = false;
var prev;
document.getElementById('current').style.backgroundColor = context.strokeStyle;
for (var i = 0; i < colors.length; i++) {
  colors[i].addEventListener('click', function(e) {
    var src = e.srcElement;
    var color = src.style.backgroundColor;
    context.strokeStyle = color;
    document.getElementById('current').style.backgroundColor = color;
  });
  colors[i].style.height = 100 / colors.length + '%';
  colors[i].style.backgroundColor = colors[i].id;
}
function clearCanvas() {
  context.clearRect(0, 0, canvas.width, canvas.height);
}
link.addEventListener('click', function() {
  link.href = canvas.toDataURL();
  link.download = 'image.png';
});
canvas.addEventListener('mousedown', function(e) {
  drawing = true;
});
canvas.addEventListener('mousemove', function(e) {
  if (drawing) {
    var coord = {
      'x': e.clientX - this.offsetLeft,
      'y': e.clientY - this.offsetTop
    };
    if (prev !== undefined) {
      context.beginPath();
      context.moveTo(prev.x, prev.y);
      context.lineTo(coord.x, coord.y);
      context.stroke();
    }
    prev = coord;
  }
});
canvas.addEventListener('mouseup', function() {
  drawing = false;
  prev = undefined;
});
      })
    </script>
  </head>
  <body>
    <nav>
      <div class="line">
          <a class="logo" href="index.html"></a>
            <div class="option">
              <a href="news.html">НОВОСТИ</a>
              <a href="#">АФИША</a>
              <a href="mer.html">МЭР</a>
              <a href="#">ПРОЕКТЫ</a>
            </div>
      </div>
      <hr>
    </nav>
      <main>
        <div class="card_wrapper">
          <div class="pattern"></div>
          <div class="chat_box">
            <div class="r1  block">
              <p>Да у вас много штрафов! Какой ужас!</p>
              <div class="ansv_box">
                <p>> Заплатить</p>
                <p>> Забить</p>
              </div>
            </div>
            <div class="r2">
              <div id='container'>
                <canvas id='canvas' width='420px' height='300px'></canvas>
                <div id='colors'>
                  <!-- <div id='red'></div>
                  <div id='blue'></div>
                  <div id='green'></div> -->
                  <div id='black'></div>
                  <!-- <div id='yellow'></div>
                  <div id='cyan'></div>
                  <div id='magenta'></div> -->
                </div>
                <div id='currentColor'></div>
              </div>
              <div id='buttons'>
                <input type='button' id='clear' value='Clear Canvas' onclick='clearCanvas()' />
                <a id='download'>Download Image</a>
                <input type='button' id='current' />
              </div>

              <!-- <p>Ну пусть не болит.<br>Всего хорошего!</p>
              <div class="ansv_box">
                <a href="index.html">> Ура</a>
                <a href="index.html">> Спасибо</a>
              </div> -->
            </div>
          </div>
          <div class="rat"></div>

        </div>
        <hr>
      </main>

    <footer>
      <div class="link_box"><a href="https://portfolio.hse.ru/Student/16420">ПОРТФОЛИО</a></div>
      <div class="link_box">ПОДДЕРЖКА</div>
      <div class="link_box">RATCITY 2021</div>
    </footer>

  </body>
</html>
